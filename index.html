<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TMW - Ultimate Translated Movies</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: #0a0a0a;
            color: white;
        }

        /* Welcome Banner */
        .welcome-banner {
            background: #e50914;
            padding: 10px 0;
            text-align: center;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        .welcome-banner p {
            font-size: 14px;
            font-weight: bold;
            margin: 0;
        }

        .trust-slogan {
            background: #25D366;
            padding: 8px 0;
            text-align: center;
            position: fixed;
            top: 30px;
            width: 100%;
            z-index: 1000;
            font-size: 12px;
            font-weight: bold;
        }

        /* Navigation */
        .nav-bar {
            background: #141414;
            padding: 15px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 60px;
            width: 100%;
            z-index: 999;
            border-bottom: 2px solid #e50914;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #e50914;
        }

        .search-box {
            display: flex;
            align-items: center;
            background: #333;
            border-radius: 20px;
            padding: 8px 15px;
            width: 300px;
        }

        .search-box input {
            background: transparent;
            border: none;
            color: white;
            outline: none;
            width: 100%;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            background: #e50914;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
        }

        .menu-btn {
            background: #333;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
        }

        /* Main Content */
        .main-content {
            margin-top: 140px;
            padding: 20px 50px;
        }

        .section-title {
            font-size: 24px;
            color: #e50914;
            margin-bottom: 20px;
            border-left: 4px solid #e50914;
            padding-left: 10px;
        }

        /* 3 Movies Vertical */
        .movies-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .movie-card {
            background: #1a1a1a;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #333;
        }

        .movie-poster {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        .movie-info {
            padding: 15px;
        }

        .movie-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .movie-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 12px;
        }

        .movie-genre {
            color: #e50914;
        }

        .movie-views {
            color: #ccc;
        }

        .stream-btn {
            background: #e50914;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            width: 100%;
            cursor: pointer;
            font-weight: bold;
        }

        .stream-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }

        /* Dropdowns */
        .subscription-dropdown {
            position: relative;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background: #1a1a1a;
            width: 380px;
            padding: 15px;
            border-radius: 8px;
            top: 100%;
            right: 0;
            border: 2px solid #e50914;
            z-index: 1001;
        }

        .subscription-dropdown:hover .dropdown-content {
            display: block;
        }

        .plan-header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
        }

        .plan-title {
            color: #e50914;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .plan-price {
            color: #e50914;
            font-weight: bold;
            font-size: 16px;
        }

        .plan-description {
            color: #ccc;
            font-size: 12px;
            margin-bottom: 15px;
        }

        .payment-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .option-header {
            text-align: center;
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 12px;
        }

        .dial-option {
            background: #25D366;
            color: white;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            border: none;
            text-align: center;
        }

        .manual-option {
            background: #e50914;
            color: white;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            border: none;
            text-align: center;
        }

        .menu-dropdown {
            position: relative;
        }

        .menu-content {
            display: none;
            position: absolute;
            background: #1a1a1a;
            width: 180px;
            padding: 10px;
            border-radius: 8px;
            top: 100%;
            right: 0;
            border: 2px solid #e50914;
            z-index: 1001;
        }

        .menu-dropdown:hover .menu-content {
            display: block;
        }

        .menu-option {
            background: #333;
            padding: 10px;
            margin: 5px 0;
            border-radius: 6px;
            cursor: pointer;
            text-align: center;
            transition: background 0.3s;
        }

        .menu-option:hover {
            background: #444;
        }

        /* Payment Instructions */
        .payment-section {
            background: #1a1a1a;
            padding: 30px;
            margin: 30px 0;
            border-radius: 10px;
            border: 2px solid #e50914;
            text-align: center;
        }

        .payment-title {
            color: #e50914;
            font-size: 22px;
            margin-bottom: 20px;
        }

        .payment-steps {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .step {
            background: #333;
            padding: 20px;
            border-radius: 8px;
        }

        .step-number {
            background: #e50914;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
        }

        /* Support Section */
        .support-section {
            background: #1a1a1a;
            padding: 40px;
            text-align: center;
            margin: 40px 0;
            border-radius: 10px;
            border: 2px solid #e50914;
        }

        .support-title {
            font-size: 24px;
            color: #e50914;
            margin-bottom: 20px;
        }

        .contact-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .whatsapp-btn {
            background: #25D366;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: bold;
        }

        .call-btn {
            background: #e50914;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: bold;
        }

        /* Footer */
        .footer {
            background: #000;
            padding: 30px;
            text-align: center;
            border-top: 2px solid #e50914;
        }

        .footer-logo {
            font-size: 28px;
            font-weight: bold;
            color: #e50914;
            margin-bottom: 10px;
        }

        .trust-footer {
            background: #25D366;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .quick-dial {
            background: #1a1a1a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border: 2px solid #25D366;
        }

        .dial-title {
            color: #25D366;
            margin-bottom: 15px;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .method-btn {
            background: #333;
            color: white;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            border: none;
            font-size: 14px;
        }

        .method-btn.dial {
            background: #25D366;
        }

        .method-btn.manual {
            background: #e50914;
        }
    </style>
</head>
<body>
    <!-- Welcome Banner -->
    <div class="welcome-banner">
        <p>WELCOME TO TMW . SUBSCRIBE AND ENJOY.</p>
    </div>

    <!-- Trust Slogan - TOP -->
    <div class="trust-slogan">
        WITH YOUR TRUST WE CARE
    </div>

    <!-- Navigation -->
    <nav class="nav-bar">
        <div class="logo">TMW</div>
        
        <div class="search-box">
            <input type="text" placeholder="Search movies...">
        </div>
        
        <div class="nav-buttons">
            <div class="subscription-dropdown">
                <button class="nav-btn">SUBSCRIPTION</button>
                <div class="dropdown-content">
                    <h4 style="color: #e50914; margin-bottom: 20px; text-align: center;">CHOOSE PLAN & PAYMENT</h4>
                    
                    <!-- DAILY PLAN -->
                    <div class="plan-header">
                        <div class="plan-title">DAILY PLAN</div>
                        <div class="plan-price">UGX 2,000</div>
                        <div class="plan-description">5 Movies Only ‚Ä¢ 24 Hours Access</div>
                    </div>
                    <div class="payment-options">
                        <div>
                            <div class="option-header">FOR AUTO DIAL</div>
                            <button class="dial-option" onclick="dialPayment('DAILY')">
                                üìû AUTO DIAL<br>
                                <small>One-Tap Payment</small>
                            </button>
                        </div>
                        <div>
                            <div class="option-header">FOR MANUAL CODE</div>
                            <button class="manual-option" onclick="manualPayment('DAILY')">
                                üìù GET CODE<br>
                                <small>Pay Manually</small>
                            </button>
                        </div>
                    </div>
                    
                    <!-- WEEKLY PLAN -->
                    <div class="plan-header" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #333;">
                        <div class="plan-title">WEEKLY PLAN</div>
                        <div class="plan-price">UGX 6,000</div>
                        <div class="plan-description">15 Movies Only ‚Ä¢ 7 Days Access</div>
                    </div>
                    <div class="payment-options">
                        <div>
                            <div class="option-header">FOR AUTO DIAL</div>
                            <button class="dial-option" onclick="dialPayment('WEEKLY')">
                                üìû AUTO DIAL<br>
                                <small>One-Tap Payment</small>
                            </button>
                        </div>
                        <div>
                            <div class="option-header">FOR MANUAL CODE</div>
                            <button class="manual-option" onclick="manualPayment('WEEKLY')">
                                üìù GET CODE<br>
                                <small>Pay Manually</small>
                            </button>
                        </div>
                    </div>
                    
                    <!-- MONTHLY PLAN -->
                    <div class="plan-header" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #333;">
                        <div class="plan-title">MONTHLY PLAN</div>
                        <div class="plan-price">UGX 15,000</div>
                        <div class="plan-description">All Movies ‚Ä¢ 30 Days Access</div>
                    </div>
                    <div class="payment-options">
                        <div>
                            <div class="option-header">FOR AUTO DIAL</div>
                            <button class="dial-option" onclick="dialPayment('MONTHLY')">
                                üìû AUTO DIAL<br>
                                <small>One-Tap Payment</small>
                            </button>
                        </div>
                        <div>
                            <div class="option-header">FOR MANUAL CODE</div>
                            <button class="manual-option" onclick="manualPayment('MONTHLY')">
                                üìù GET CODE<br>
                                <small>Pay Manually</small>
                            </button>
                        </div>
                    </div>
                    
                    <!-- PREMIUM PLAN -->
                    <div class="plan-header" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #333;">
                        <div class="plan-title">PREMIUM PLAN</div>
                        <div class="plan-price">UGX 25,000</div>
                        <div class="plan-description">All Content ‚Ä¢ 30 Days Access</div>
                    </div>
                    <div class="payment-options">
                        <div>
                            <div class="option-header">FOR AUTO DIAL</div>
                            <button class="dial-option" onclick="dialPayment('PREMIUM')">
                                üìû AUTO DIAL<br>
                                <small>One-Tap Payment</small>
                            </button>
                        </div>
                        <div>
                            <div class="option-header">FOR MANUAL CODE</div>
                            <button class="manual-option" onclick="manualPayment('PREMIUM')">
                                üìù GET CODE<br>
                                <small>Pay Manually</small>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="menu-dropdown">
                <button class="menu-btn">MENU</button>
                <div class="menu-content">
                    <div class="menu-option" onclick="window.location.href='index.html'">HOME</div>
                    <div class="menu-option" onclick="showSeries()">SERIES</div>
                    <div class="menu-option" onclick="showMovies()">MOVIES</div>
                    <div class="menu-option" onclick="openSupport()">SUPPORT</div>
                    <div class="menu-option" onclick="window.location.href='activate.html'">ACTIVATE CODE</div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Popular Movies -->
        <section>
            <h2 class="section-title">POPULAR MOVIES</h2>
            <div class="movies-grid" id="popularMovies">
                <!-- Movies will be loaded here from admin panel -->
                <div style="text-align: center; color: #666; padding: 40px; grid-column: 1 / -1;">
                    Loading movies from TMW...
                </div>
            </div>
        </section>

        <!-- New Releases -->
        <section>
            <h2 class="section-title">NEW RELEASES</h2>
            <div class="movies-grid" id="newReleases">
                <!-- Movies will be loaded here from admin panel -->
                <div style="text-align: center; color: #666; padding: 40px; grid-column: 1 / -1;">
                    New movies coming soon...
                </div>
            </div>
        </section>

        <!-- Payment Instructions -->
        <section class="payment-section">
            <h2 class="payment-title">üí∞ CHOOSE YOUR PAYMENT METHOD</h2>
            
            <div class="payment-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>Choose Plan</h3>
                    <p>Select your preferred subscription plan</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3>Payment Method</h3>
                    <p>Choose Auto Dial or Manual Code</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3>Enjoy Movies</h3>
                    <p>Start streaming your favorite movies</p>
                </div>
            </div>
            
            <div class="quick-dial">
                <h3 class="dial-title">üé¨ TWO PAYMENT OPTIONS</h3>
                
                <div class="payment-methods">
                    <button class="method-btn dial" onclick="showDialInstructions()">
                        <strong>FOR AUTO DIAL</strong><br>
                        <small>üìû One-Tap Payment</small><br>
                        <small>Automatic Code Generation</small>
                    </button>
                    
                    <button class="method-btn manual" onclick="showManualInstructions()">
                        <strong>FOR MANUAL CODE</strong><br>
                        <small>üìù Traditional Payment</small><br>
                        <small>Get Code via SMS</small>
                    </button>
                </div>
                
                <div style="margin-top: 20px; background: #333; padding: 15px; border-radius: 8px;">
                    <h4>üì± Auto Dial Codes:</h4>
                    <p><strong>Daily:</strong> *185*1*1*0704557858#</p>
                    <p><strong>Weekly:</strong> *185*1*2*0704557858#</p>
                    <p><strong>Monthly:</strong> *185*1*3*0704557858#</p>
                    <p><strong>Premium:</strong> *185*1*4*0704557858#</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Support Section -->
    <section class="support-section">
        <h2 class="support-title">NEED HELP WITH PAYMENT?</h2>
        <p>Contact us for instant support with any payment method</p>
        
        <div class="contact-buttons">
            <a href="https://wa.me/256704557858?text=Hello%20TMW%2C%20I%20need%20help%20with%20payment" class="whatsapp-btn" target="_blank">
                üì± WhatsApp: 0704557858
            </a>
            <a href="tel:0765206238" class="call-btn">
                üìû Call: 0765206238
            </a>
        </div>
        
        <p>We help with both Auto Dial and Manual Code payments</p>
        <p>Fast response guaranteed! üöÄ</p>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <!-- Trust Slogan - BOTTOM -->
        <div class="trust-footer">
            WITH YOUR TRUST WE CARE
        </div>

        <div class="footer-logo">TRANSLATED MOVIE WORLD</div>
        <div>(TMW)</div>
        <p>Your ultimate destination for super translated movies</p>
        <p>Stream directly on our website ‚Ä¢ No external links</p>
        
        <div class="quick-dial" style="margin: 20px auto; max-width: 500px;">
            <h3 class="dial-title">üí≥ PAYMENT METHODS</h3>
            <p>Choose what works best for you:</p>
            <div class="payment-methods">
                <button class="method-btn dial" onclick="showDialInstructions()">
                    FOR AUTO DIAL<br>Easy & Fast
                </button>
                <button class="method-btn manual" onclick="showManualInstructions()">
                    FOR MANUAL CODE<br>Traditional
                </button>
            </div>
        </div>
        
        <p>¬© 2025 Made by Marvin ‚Ä¢ All rights reserved</p>
    </footer>

    <script>
        // LOAD MOVIES FROM ADMIN PANEL
        function loadMoviesFromAdmin() {
            const adminData = JSON.parse(localStorage.getItem('tmw_admin_data')) || { movies: [] };
            const movies = adminData.movies;
            
            if (movies.length === 0) {
                document.getElementById('popularMovies').innerHTML = `
                    <div style="text-align: center; color: #666; padding: 40px; grid-column: 1 / -1;">
                        üé¨ No movies added yet. Check back soon!<br>
                        <small>Admin can add movies via Admin Panel</small>
                    </div>
                `;
                return;
            }

            displayMovies('popularMovies', movies);
            
            if (movies.length > 9) {
                displayMovies('newReleases', movies.slice(9));
            } else {
                document.getElementById('newReleases').innerHTML = `
                    <div style="text-align: center; color: #666; padding: 40px; grid-column: 1 / -1;">
                        üÜï New movies coming soon!
                    </div>
                `;
            }
            
            checkSubscription();
        }

        function displayMovies(sectionId, movies) {
            const section = document.getElementById(sectionId);
            let html = '';
            
            const columns = [[], [], []];
            movies.forEach((movie, index) => {
                columns[index % 3].push(movie);
            });
            
            for (let i = 0; i < 3; i++) {
                html += `<div>`;
                columns[i].forEach(movie => {
                    html += `
                        <div class="movie-card" onclick="streamMovieById(${movie.id})">
                            <img src="${movie.poster}" alt="${movie.title}" class="movie-poster" 
                                 onerror="this.src='https://via.placeholder.com/300x250/333/fff?text=TMW+Movie'">
                            <div class="movie-info">
                                <h3 class="movie-title">${movie.title}</h3>
                                <div class="movie-meta">
                                    <span class="movie-genre">${movie.genre || 'ACTION'}</span>
                                    <span class="movie-views">${movie.views.toLocaleString()} views</span>
                                </div>
                                <button class="stream-btn">STREAM NOW</button>
                            </div>
                        </div>
                    `;
                });
                html += `</div>`;
            }
            
            section.innerHTML = html;
        }

        // PAYMENT METHODS - BOTH OPTIONS
        function dialPayment(plan) {
            let ussdCode = '';
            let amount = '';
            
            switch(plan) {
                case 'DAILY':
                    ussdCode = '*185*1*1*0704557858%23';
                    amount = 'UGX 2,000';
                    break;
                case 'WEEKLY':
                    ussdCode = '*185*1*2*0704557858%23';
                    amount = 'UGX 6,000';
                    break;
                case 'MONTHLY':
                    ussdCode = '*185*1*3*0704557858%23';
                    amount = 'UGX 15,000';
                    break;
                case 'PREMIUM':
                    ussdCode = '*185*1*4*0704557858%23';
                    amount = 'UGX 25,000';
                    break;
            }
            
            const confirmPayment = confirm(`üí∞ ${plan} PLAN - Auto Dial\nAmount: ${amount}\n\nThis will open your dialer with the payment code.\n\nTap OK to proceed.`);
            
            if (confirmPayment) {
                window.location.href = `tel:${ussdCode}`;
                
                setTimeout(() => {
                    alert('üìû Payment Started!\n\n1. Complete the payment on your phone\n2. Wait for confirmation SMS\n3. Come back and activate your code\n4. Go to MENU ‚Üí ACTIVATE CODE');
                }, 1000);
            }
        }

        function manualPayment(plan) {
            let amount = '';
            
            switch(plan) {
                case 'DAILY': amount = 'UGX 2,000'; break;
                case 'WEEKLY': amount = 'UGX 6,000'; break;
                case 'MONTHLY': amount = 'UGX 15,000'; break;
                case 'PREMIUM': amount = 'UGX 25,000'; break;
            }
            
            alert(`üìù ${plan} PLAN - Manual Payment\nAmount: ${amount}\n\nMANUAL PAYMENT STEPS:\n\n1. Send ${amount} to 0704557858 (Marvin)\n2. Include your name as reference\n3. Wait for payment confirmation\n4. You will receive activation code via SMS\n5. Go to MENU ‚Üí ACTIVATE CODE\n\nAfter payment, contact us if you don't receive code within 5 minutes.`);
        }

        function showDialInstructions() {
            alert('üìû FOR AUTO DIAL PAYMENT\n\nBENEFITS:\n‚Ä¢ One-tap payment\n‚Ä¢ Automatic code generation\n‚Ä¢ Faster activation\n‚Ä¢ Less manual work\n\nHOW IT WORKS:\n1. Choose your plan\n2. Tap "FOR AUTO DIAL" button\n3. Complete payment on your phone\n4. Receive code automatically\n5. Activate and enjoy!');
        }

        function showManualInstructions() {
            alert('üìù FOR MANUAL CODE PAYMENT\n\nBENEFITS:\n‚Ä¢ Traditional method\n‚Ä¢ Pay to any number\n‚Ä¢ Get code manually\n‚Ä¢ Familiar process\n\nHOW IT WORKS:\n1. Choose your plan\n2. Tap "FOR MANUAL CODE" button\n3. Send money to 0704557858\n4. Receive code via SMS\n5. Activate and enjoy!');
        }

        // KEEP ALL OTHER FUNCTIONS THE SAME
        function streamMovieById(movieId) {
            const subscription = localStorage.getItem('tmw_subscription');
            const adminData = JSON.parse(localStorage.getItem('tmw_admin_data')) || { movies: [] };
            const movie = adminData.movies.find(m => m.id == movieId);
            
            if (!movie) {
                alert('Movie not found!');
                return;
            }
            
            if (subscription) {
                const subData = JSON.parse(subscription);
                const expires = new Date(subData.expires);
                const now = new Date();

                if (expires > now) {
                    let moviesWatched = subData.moviesWatched || 0;
                    let moviesLimit = getMoviesLimit(subData.plan);
                    
                    if (moviesWatched >= moviesLimit) {
                        alert(`üö´ MOVIE LIMIT REACHED!\n\nPlan: ${subData.plan}\nWatched: ${moviesWatched}/${moviesLimit} movies\n\nPlease subscribe again!`);
                        return;
                    }
                    
                    moviesWatched += 1;
                    subData.moviesWatched = moviesWatched;
                    localStorage.setItem('tmw_subscription', JSON.stringify(subData));
                    
                    window.location.href = `movies.html?movie=${movieId}`;
                    
                } else {
                    alert('‚ùå SUBSCRIPTION EXPIRED\n\nPlease subscribe again!');
                }
            } else {
                alert('üîí SUBSCRIPTION REQUIRED\n\nPlease subscribe to watch movies!');
            }
        }

        function getMoviesLimit(plan) {
            switch(plan) {
                case 'DAILY': return 5;
                case 'WEEKLY': return 15;
                case 'MONTHLY': return 999;
                case 'PREMIUM': return 999;
                default: return 5;
            }
        }

        function streamMovie(movieTitle, views) {
            alert(`This is a demo movie: ${movieTitle}\n\nReal movies are loaded from the admin panel.`);
        }

        function showSeries() {
            alert('Series section coming soon!');
        }

        function showMovies() {
            // Already on movies page
        }

        function openSupport() {
            const choice = confirm('Choose support option:\n\nOK - WhatsApp\nCancel - Phone Call');
            if (choice) {
                window.open('https://wa.me/256704557858', '_blank');
            } else {
                window.open('tel:0765206238', '_self');
            }
        }

        function checkSubscription() {
            const subscription = localStorage.getItem('tmw_subscription');
            const buttons = document.querySelectorAll('.stream-btn');
            
            if (!subscription) {
                buttons.forEach(btn => {
                    btn.disabled = true;
                    btn.textContent = 'SUBSCRIBE TO STREAM';
                });
            } else {
                const subData = JSON.parse(subscription);
                const expires = new Date(subData.expires);
                const now = new Date();
                
                if (expires <= now) {
                    buttons.forEach(btn => {
                        btn.disabled = true;
                        btn.textContent = 'SUBSCRIPTION EXPIRED';
                    });
                } else {
                    buttons.forEach(btn => {
                        btn.disabled = false;
                        btn.textContent = 'STREAM NOW';
                    });
                }
            }
        }

        // RUN WHEN PAGE LOADS
        window.addEventListener('load', function() {
            checkSubscription();
            loadMoviesFromAdmin();
        });
    </script>
</body>
</html>
